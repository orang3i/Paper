--- a/net/minecraft/world/entity/animal/armadillo/Armadillo.java
+++ b/net/minecraft/world/entity/animal/armadillo/Armadillo.java
@@ -63,6 +_,7 @@
     public final AnimationState peekAnimationState = new AnimationState();
     private int scuteTime;
     private boolean peekReceivedClient = false;
+    private @Nullable ArmadilloState frozenState = null; // Paper - add frozen state.
 
     public Armadillo(EntityType<? extends Animal> entityType, Level level) {
         super(entityType, level);
@@ -109,7 +_,28 @@
     }
 
     public void switchToState(Armadillo.ArmadilloState state) {
-        this.entityData.set(ARMADILLO_STATE, state);
+        // Paper start - add ArmadilloStateChangeEvent
+        ArmadilloState oldState = this.getState();
+        if (oldState == state) {
+            return;
+        }
+
+        if (this.getFrozenState() != null && this.getFrozenState() != state) {
+            return;
+        }
+
+        io.papermc.paper.event.entity.ArmadilloStateChangeEvent event = new io.papermc.paper.event.entity.ArmadilloStateChangeEvent((org.bukkit.entity.Armadillo) this.getBukkitEntity(), org.bukkit.craftbukkit.entity.CraftArmadillo.stateToBukkit(oldState), org.bukkit.craftbukkit.entity.CraftArmadillo.stateToBukkit(state));
+        if (!event.callEvent()) {
+            this.setFrozenState(oldState);
+            return;
+        }
+
+        Armadillo.ArmadilloState finalState = org.bukkit.craftbukkit.entity.CraftArmadillo.stateToNMS(event.getNewState());
+        if (finalState != state) {
+            this.setFrozenState(finalState);
+        }
+        this.entityData.set(ARMADILLO_STATE, finalState);
+        // Paper end - add ArmadilloStateChangeEvent
     }
 
     @Override
@@ -141,10 +_,12 @@
         ArmadilloAi.updateActivity(this);
         profilerFiller.pop();
         if (this.isAlive() && !this.isBaby() && --this.scuteTime <= 0) {
+            this.forceDrops = true; // CraftBukkit
             if (this.dropFromGiftLootTable(level, BuiltInLootTables.ARMADILLO_SHED, this::spawnAtLocation)) {
                 this.playSound(SoundEvents.ARMADILLO_SCUTE_DROP, 1.0F, (this.random.nextFloat() - this.random.nextFloat()) * 0.2F + 1.0F);
                 this.gameEvent(GameEvent.ENTITY_PLACE);
             }
+            this.forceDrops = false; // CraftBukkit
 
             this.scuteTime = this.pickNextScuteDropTime();
         }
@@ -256,20 +_,24 @@
     }
 
     public void rollUp() {
-        if (!this.isScared()) {
-            this.stopInPlace();
-            this.resetLove();
-            this.gameEvent(GameEvent.ENTITY_ACTION);
-            this.makeSound(SoundEvents.ARMADILLO_ROLL);
-            this.switchToState(Armadillo.ArmadilloState.ROLLING);
+        if (this.getFrozenState() == null) { // Paper - check if the state is frozen.
+            if (!this.isScared()) {
+                this.stopInPlace();
+                this.resetLove();
+                this.gameEvent(GameEvent.ENTITY_ACTION);
+                this.makeSound(SoundEvents.ARMADILLO_ROLL);
+                this.switchToState(Armadillo.ArmadilloState.ROLLING);
+            }
         }
     }
 
     public void rollOut() {
-        if (this.isScared()) {
-            this.gameEvent(GameEvent.ENTITY_ACTION);
-            this.makeSound(SoundEvents.ARMADILLO_UNROLL_FINISH);
-            this.switchToState(Armadillo.ArmadilloState.IDLE);
+        if (this.getFrozenState() == null) { // Paper - check if the state is frozen.
+            if (this.isScared()) {
+                this.gameEvent(GameEvent.ENTITY_ACTION);
+                this.makeSound(SoundEvents.ARMADILLO_UNROLL_FINISH);
+                this.switchToState(Armadillo.ArmadilloState.IDLE);
+            }
         }
     }
 
@@ -283,8 +_,11 @@
     }
 
     @Override
-    protected void actuallyHurt(ServerLevel level, DamageSource damageSource, float amount) {
-        super.actuallyHurt(level, damageSource, amount);
+    // CraftBukkit start - void -> boolean
+    public boolean actuallyHurt(ServerLevel level, DamageSource damageSource, float amount, org.bukkit.event.entity.EntityDamageEvent event) {
+        boolean damageResult = super.actuallyHurt(level, damageSource, amount, event);
+        if (!damageResult) return false;
+        // CraftBukkit end
         if (!this.isNoAi() && !this.isDeadOrDying()) {
             if (damageSource.getEntity() instanceof LivingEntity) {
                 this.getBrain().setMemoryWithExpiry(MemoryModuleType.DANGER_DETECTED_RECENTLY, true, 80L);
@@ -295,6 +_,7 @@
                 this.rollOut();
             }
         }
+        return true; // CraftBukkit
     }
 
     @Override
@@ -313,7 +_,9 @@
             return false;
         } else {
             if (this.level() instanceof ServerLevel serverLevel) {
+                this.forceDrops = true; // CraftBukkit
                 this.spawnAtLocation(serverLevel, new ItemStack(Items.ARMADILLO_SCUTE));
+                this.forceDrops = false; // CraftBukkit
                 this.gameEvent(GameEvent.ENTITY_INTERACT);
                 this.playSound(SoundEvents.ARMADILLO_BRUSH);
             }
@@ -439,4 +_,18 @@
             return this.animationDuration;
         }
     }
+
+    // Paper start - add methods to get and set the frozen state of the armadillo.
+    public void setFrozenState(@Nullable ArmadilloState state) {
+        this.frozenState = state;
+        this.getBrain().eraseMemory(MemoryModuleType.DANGER_DETECTED_RECENTLY);
+        this.getBrain().eraseMemory(MemoryModuleType.WALK_TARGET);
+        this.getBrain().eraseMemory(MemoryModuleType.PATH);
+        this.getBrain().eraseMemory(MemoryModuleType.LOOK_TARGET);
+    }
+
+    public @Nullable ArmadilloState getFrozenState() {
+        return this.frozenState;
+    }
+    // Paper end - add methods to get and set the frozen state of the armadillo.
 }
